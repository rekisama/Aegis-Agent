# Aegis Agent ChatGPT风格界面

基于ChatGPT设计的现代化Web界面，提供直观、美观的用户体验。

## 🎨 界面特色

### 设计风格
- **深色主题**: 采用ChatGPT经典的深色配色方案
- **现代化布局**: 左侧边栏 + 主聊天区域的经典布局
- **流畅动画**: 平滑的过渡效果和微交互
- **响应式设计**: 完美适配桌面和移动设备

### 功能特性
- **实时对话**: WebSocket支持实时消息传递
- **打字指示器**: 显示AI正在思考的状态
- **代码高亮**: 自动识别和格式化代码块
- **消息历史**: 保存和显示对话历史
- **配置面板**: 动态调整AI参数

## 🚀 快速启动

### 1. 安装依赖
```bash
pip install -r ../requirements.txt
```

### 2. 启动服务器
```bash
# 使用专用启动脚本
python web/run_chatgpt_style.py

# 或直接使用uvicorn
uvicorn web.main:app --host 0.0.0.0 --port 8000 --reload
```

### 3. 访问界面
打开浏览器访问: http://localhost:8000

## 🎯 界面布局

```
┌─────────────────────────────────────────────────────────────┐
│                    Aegis Agent ChatGPT风格界面                   │
├─────────────────┬───────────────────────────────────────────┤
│                 │                                           │
│    侧边栏       │              主聊天区域                   │
│                 │                                           │
│  ┌─────────────┐ │  ┌─────────────────────────────────────┐ │
│  │ 新对话按钮   │ │  │ 欢迎消息                            │ │
│  └─────────────┘ │  └─────────────────────────────────────┘ │
│                 │                                           │
│  ┌─────────────┐ │  ┌─────────────────────────────────────┐ │
│  │ 配置面板     │ │  │ 用户消息                            │ │
│  │ - 模型选择   │ │  └─────────────────────────────────────┘ │
│  │ - 温度调节   │ │                                           │
│  │ - 自动修复   │ │  ┌─────────────────────────────────────┐ │
│  │ - 自动安装   │ │  │ AI响应                              │ │
│  └─────────────┘ │  └─────────────────────────────────────┘ │
│                 │                                           │
│  ┌─────────────┐ │  ┌─────────────────────────────────────┐ │
│  │ 状态栏       │ │  │ 输入框 + 发送按钮                   │ │
│  │ - 连接状态   │ │  └─────────────────────────────────────┘ │
│  │ - 连接数     │ │                                           │
│  └─────────────┘ │  ┌─────────────────────────────────────┐ │
│                 │  │ 状态栏                               │ │
│                 │  └─────────────────────────────────────┘ │
└─────────────────┴───────────────────────────────────────────┘
```

## 🎨 设计细节

### 配色方案
- **主背景**: `#343541` (深灰色)
- **侧边栏**: `#202123` (更深的灰色)
- **消息背景**: `#444654` (AI消息背景)
- **用户消息**: `#343541` (用户消息背景)
- **强调色**: `#10a37f` (绿色，用于按钮和链接)
- **文字颜色**: `#ececf1` (浅灰色)

### 字体系统
- **主字体**: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto'
- **代码字体**: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace
- **字体大小**: 14px (正文), 12px (辅助信息), 18px (标题)

### 交互设计
- **悬停效果**: 按钮和卡片有平滑的悬停动画
- **点击反馈**: 按钮点击时有视觉反馈
- **加载状态**: 打字指示器显示AI正在思考
- **错误处理**: 错误消息有特殊的红色样式

## 📱 响应式设计

### 桌面端 (>768px)
- 侧边栏固定显示
- 主聊天区域占据剩余空间
- 完整的配置面板

### 移动端 (≤768px)
- 侧边栏可滑动显示
- 主聊天区域全屏显示
- 简化的配置选项

## 🔧 功能说明

### 1. 新对话
- 点击"新对话"按钮开始新的对话
- 清空当前聊天历史
- 显示欢迎消息

### 2. 消息输入
- 支持多行文本输入
- 自动调整输入框高度
- Enter发送，Shift+Enter换行
- 支持代码块和行内代码

### 3. 配置管理
- **模型选择**: DeepSeek Chat, GPT-3.5 Turbo, GPT-4
- **温度调节**: 0-2范围，控制AI创造性
- **最大令牌数**: 100-8000，控制响应长度
- **自动修复**: 启用/禁用自动错误修复
- **自动安装**: 启用/禁用自动包安装

### 4. 状态监控
- **连接状态**: 实时显示WebSocket连接状态
- **连接数**: 显示当前活跃连接数
- **时间显示**: 显示当前时间

## 🎯 用户体验

### 消息显示
- **用户消息**: 右对齐，绿色头像
- **AI消息**: 左对齐，紫色机器人头像
- **系统消息**: 黄色齿轮图标
- **错误消息**: 红色警告图标

### 代码支持
- 自动识别代码块 (```)
- 语法高亮显示
- 行内代码支持 (`code`)
- 代码块可滚动

### 动画效果
- 消息淡入动画
- 打字指示器动画
- 按钮悬停效果
- 侧边栏滑动动画

## 🔍 技术实现

### 前端技术
- **HTML5**: 语义化标签
- **CSS3**: Flexbox布局，Grid布局
- **JavaScript**: ES6+语法
- **WebSocket**: 实时通信
- **Fetch API**: HTTP请求

### 样式特点
- **CSS变量**: 便于主题切换
- **Flexbox**: 灵活的布局系统
- **Grid**: 响应式网格布局
- **动画**: CSS3动画和过渡
- **媒体查询**: 响应式断点

### 交互逻辑
- **事件委托**: 高效的事件处理
- **防抖节流**: 优化性能
- **错误处理**: 完善的错误捕获
- **状态管理**: 全局状态同步

## 🚀 部署说明

### 开发环境
```bash
# 安装依赖
pip install -r requirements.txt

# 启动开发服务器
python web/run_chatgpt_style.py
```

### 生产环境
```bash
# 使用gunicorn部署
pip install gunicorn
gunicorn web.main:app -w 4 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:8000
```

### Docker部署
```dockerfile
FROM python:3.9-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
EXPOSE 8000
CMD ["uvicorn", "web.main:app", "--host", "0.0.0.0", "--port", "8000"]
```

## 🎉 总结

这个ChatGPT风格的界面提供了：

- ✅ **现代化设计** - 符合当前AI聊天界面的设计趋势
- ✅ **流畅交互** - 平滑的动画和响应式反馈
- ✅ **功能完整** - 支持所有Aegis Agent的核心功能
- ✅ **用户友好** - 直观的操作和清晰的信息展示
- ✅ **技术先进** - 使用最新的Web技术栈
- ✅ **可扩展性** - 易于添加新功能和主题

这个界面让用户能够以最自然的方式与智能Agent进行交互，提供了专业级的用户体验。 
 
 
 